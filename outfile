NAME = pipex

CC = cc -g3

SOURCES =	srcsEprojectEpipex.c \
				srcsEprojectEchildsEfirst.c \
				srcsEprojectEchildsEsecond.c \
				srcsEprojectEchildsEwait.c \
				srcsEprojectEcleanEclose.c \
				srcsEprojectEcleanEfail.c \
				srcsEprojectEfdEchild.c \
				srcsEprojectEfreeEft_free.c \
				srcsEprojectEpathEfound.c \
				srcsEprojectEpipeEclose.c \
				srcsEprojectEutilsEft_strjoin_with_separator.c \
				srcsEprojectEutilsEft_tablen.c \
				srcsEprojectEutilsEis_exec.c \
			exportEessentialEft_bzero.c \
			exportEessentialEft_memmove.c \
			exportEessentialEft_ppxadd_back.c \
			exportEessentialEft_ppxclear.c \
			exportEessentialEft_ppxnew.c \
			exportEessentialEft_split.c \
			exportEessentialEft_split2.c \
			exportEessentialEft_strlen.c \
			exportEessentialEft_strchr.c \
			exportEessentialEft_strjoin.c \
			exportEessentialEft_strlcpy.c \
			exportEessentialEft_strncmp.c \
			exportEessentialEft_strncpy.c \
			exportEessentialEft_strndup.c \
			exportEprintfEsrcsEft_printf.c \
				exportEprintfElibftEft_putchar.c \
				exportEprintfElibftEft_putnbr.c \
				exportEprintfElibftEft_putnbr_unsigned.c \
				exportEprintfElibftEft_putstr.c \
				exportEprintfElibftEft_puthexa.c \
				exportEprintfElibftEft_putpointer.c

OBJECTS = $(SOURCES:.c=.o)

BONUS_SOURCES =	srcsEbonusEpipex_bonus.c \
				srcsEbonusEchilds_bonusEfirst_bonus.c \
				srcsEbonusEchilds_bonusEmiddle_bonus.c \
				srcsEbonusEchilds_bonusEsecond_bonus.c \
				srcsEbonusEchilds_bonusEwait_bonus.c \
				srcsEbonusEclean_bonusEclose_bonus.c \
				srcsEbonusEclean_bonusEfail_bonus.c \
				srcsEbonusEfd_bonusEchild_bonus.c \
				srcsEbonusEfree_bonusEft_free_bonus.c \
				srcsEbonusEpath_bonusEfound_bonus.c \
				srcsEbonusEpipe_bonusEclose_bonus.c \
				srcsEbonusEutils_bonusEft_strjoin_with_separator_bonus.c \
				srcsEbonusEutils_bonusEft_tablen_bonus.c \
				srcsEbonusEutils_bonusEis_exec_bonus.c \
				srcsEbonusEheredocEdel.c \
				srcsEbonusEheredocEutils.c \
			exportEessentialEft_bzero.c \
			exportEessentialEft_memmove.c \
			exportEessentialEft_itoa.c \
			exportEessentialEft_ppxadd_back_bonus.c \
			exportEessentialEft_ppxclear_bonus.c \
			exportEessentialEft_ppxnew_bonus.c \
			exportEessentialEft_split.c \
			exportEessentialEft_split2.c \
			exportEessentialEft_strlen.c \
			exportEessentialEft_strchr.c \
			exportEessentialEft_strjoin.c \
			exportEessentialEft_strlcpy.c \
			exportEessentialEft_strncmp.c \
			exportEessentialEft_strncpy.c \
			exportEessentialEft_strndup.c \
			exportEprintfEsrcsEft_printf.c \
			exportEgnlEget_next_line.c \
			exportEgnlEget_next_line_utils.c \
				exportEprintfElibftEft_putchar.c \
				exportEprintfElibftEft_putnbr.c \
				exportEprintfElibftEft_putnbr_unsigned.c \
				exportEprintfElibftEft_putstr.c \
				exportEprintfElibftEft_puthexa.c \
				exportEprintfElibftEft_putpointer.c

BONUS_OBJECTS = $(BONUS_SOURCES:.c=.o)

FLAGS = -Wall -Wextra -Werror
OPTIONS = -c

#################################################################################

RED = '\033[0;31m'
GREEN = '\033[0;32m'
YELLOW = '\033[0;33m'
BLUE = '\033[0;34m'
PURPLE = '\033[0;35m'
CYAN = '\033[0;36m'
MAGENTA = '\033[0;35m'
NC = '\033[0m'

#################################################################################

%.o: %.c
	@$(CC) $(FLAGS) $(OPTIONS) $< -o $@
	@echo $(GREEN)✅ $< compiled! $(NC)

$(NAME): $(OBJECTS) eval
	@$(CC) $(FLAGS) $(OBJECTS) -o $(NAME)
	@echo $(BLUE)✅ $@ built! $(NC)

bonus: $(OBJECTS) $(BONUS_OBJECTS)
	@$(CC) $(FLAGS) $(BONUS_OBJECTS) -o $(NAME)
	@echo $(PURPLE)✅ $(NAME) with bonus built! $(NC)

all: $(NAME)

clean:
	@rm -f $(OBJECTS) $(BONUS_OBJECTS)
	@echo $(YELLOW)🗑️ $(OBJECTS) $(BONUS_OBJECTS) deleted! $(NC)

fclean: clean
	@rm -f $(NAME) $(BONUS)
	@echo $(RED)🗑️ $(NAME) and $(BONUS) deleted! $(NC)

re: fclean all

.PHONY: all clean fclean re eval


eval:
	@echo $(CYAN)******************************************************$(RESET)
	@echo $(MAGENTA)"*                                                    *"$(RESET)
	@echo $(MAGENTA)*$(RESET) $(GREEN)"   Cher évaluateur, veuillez noter ce projet "$(MAGENTA)$(RESET)"      *"
	@echo $(MAGENTA)*$(RESET) $(GREEN)"   comme "$(YELLOW)"OUTSTANDING"$(GREEN)" car il est "$(BLUE)"remarquable!"$(MAGENTA) $(RESET)"      *"
	@echo $(MAGENTA)"*                                                    *"$(RESET)
	@echo $(CYAN)******************************************************$(RESET)0
0
0
0
0
0
